# =============================================================================
# DeepWiki Environment Configuration
# Copy this file to .env and fill in your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Provider API Keys (at least one required)
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=
OPENAI_API_KEY=
OPENROUTER_API_KEY=
DEEPSEEK_API_KEY=

# Chat Defaults (optional, overrides generator.json defaults)
DEEPWIKI_CHAT_PROVIDER=
DEEPWIKI_CHAT_MODEL=

# Zhipu Coding Plan
ZHIPU_CODING_PLAN_API_KEY=
ZHIPU_CODING_PLAN_BASE_URL=https://api.z.ai/api/coding/paas/v4
ZHIPU_ANTHROPIC_CODING_PLAN_BASE_URL=https://api.z.ai/api/anthropic

# Azure OpenAI
AZURE_OPENAI_USE_V1=false
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_VERSION=2025-04-01-preview

# Azure AI Foundry Anthropic (Claude)
AZURE_ANTHROPIC_ENDPOINT=
AZURE_ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# Embedder Configuration
# -----------------------------------------------------------------------------
# Options: openai, google, ollama, openrouter, azure, azure_ha
DEEPWIKI_EMBEDDER_TYPE=azure

GOOGLE_EMBEDDING_MODEL=text-embedding-004

OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENROUTER_EMBEDDING_MODEL=openai/text-embedding-3-large
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-3-large

# Azure HA: Option 1 - Array format
# AZURE_EMBEDDING_HA='["endpoint1:key1", "endpoint2:key2"]'
AZURE_EMBEDDING_HA=
# Azure HA: Option 2 - JSON config file path
AZURE_HA_CONFIG=

# Syntax-aware chunking for C#, TypeScript, JavaScript (requires regenerating embeddings)
USE_SYNTAX_AWARE_CHUNKING=true

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# Pages to generate in parallel (1=sequential, 2-3=faster but more API usage)
DEEPWIKI_PAGE_CONCURRENCY=5
# Allow marking jobs as partially completed when >=80% pages are done
DEEPWIKI_ALLOW_PARTIALLY_COMPLETED_PAGE=true

# -----------------------------------------------------------------------------
# API Base URLs (optional overrides)
# -----------------------------------------------------------------------------
OPENAI_BASE_URL=
OPENROUTER_BASE_URL=
DEEPSEEK_BASE_URL=

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=8001
SERVER_BASE_URL=http://localhost:8001
NEXT_PUBLIC_SERVER_BASE_URL=http://localhost:8001
NODE_ENV=production

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Simple auth code for wiki generation
DEEPWIKI_AUTH_MODE=false
DEEPWIKI_AUTH_CODE=

# API key authentication (X-API-Key header)
DEEPWIKI_API_KEY_AUTH_ENABLED=false

# Backend API Keys (comma-separated UUIDs)
# Generate: python -c "import uuid; print(uuid.uuid4())"
DEEPWIKI_BACKEND_API_KEYS=
# Required if DEEPWIKI_API_KEY_AUTH_ENABLED=true
DEEPWIKI_FRONTEND_API_KEY=
NEXT_PUBLIC_DEEPWIKI_FRONTEND_API_KEY=
# CORS Allowed Origins (comma-separated)
DEEPWIKI_ALLOWED_ORIGINS=http://localhost:3000

# User store authentication (admin/readonly roles)
DEEPWIKI_AUTH_LOGIN_REQUIRED=false
DEEPWIKI_AUTH_STORE_PATH=api/config/users.json
DEEPWIKI_AUTH_ROLES_PATH=api/config/roles.json
DEEPWIKI_AUTH_PRICING_PATH=api/config/model_pricing.json
DEEPWIKI_AUTH_JWT_SECRET=
DEEPWIKI_AUTH_JWT_EXPIRES=3600

# -----------------------------------------------------------------------------
# Paths (optional custom locations)
# -----------------------------------------------------------------------------
# Custom Configuration Directory (Default: api/config/)
DEEPWIKI_CONFIG_DIR=

# Custom Adalflow Root Directory (Default: ~/.adalflow)
ADALFLOW_ROOT_PATH=

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE_PATH=
LOG_MAX_SIZE=10
LOG_BACKUP_COUNT=5
